var s=Object.defineProperty;var i=(t,n,e)=>n in t?s(t,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[n]=e;var c=(t,n,e)=>(i(t,typeof n!="symbol"?n+"":n,e),e);import{_ as l}from"./plugin-vue_export-helper-c27b6911.js";class r{constructor(){c(this,"ws",null);c(this,"reconnect_timer",null);c(this,"connecting",!1)}reconnect(){this.reconnect_timer=setInterval(()=>{console.log("check connection",this.connecting),this.connecting||this.init(!0)},1e3)}init(n=!1){this.connecting=!0,this.ws=new WebSocket("ws://localhost:8765");let e=this;this.ws.onopen=()=>{console.log("connected!"),e.connecting=!1,e.reconnect_timer&&clearInterval(e.reconnect_timer),e.ws.send(`status
`)},this.ws.onerror=o=>{e.ws!=null?(console.log("error happens"),e.ws.close()):console.log("connect failed"),e.connecting=!1,e.reconnect_timer==null&&e.reconnect()},this.ws.onmessage=o=>{console.log("message received",o.data)}}}let a=new r;a.init();const f={};function _(t,n,e,o,h,g){return null}const m=l(f,[["render",_],["__file","Connect.vue"]]);export{m as default};
